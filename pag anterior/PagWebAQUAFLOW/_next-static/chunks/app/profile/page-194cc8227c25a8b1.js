(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{287:(e,s,a)=>{"use strict";a.d(s,{$:()=>l});var t=a(1215);a(5591);var r=a(5979),i=a(3736),d=a(411);let n=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:s,variant:a,size:i,asChild:l=!1,...c}=e,o=l?r.DX:"button";return(0,t.jsx)(o,{"data-slot":"button",className:(0,d.cn)(n({variant:a,size:i,className:s})),...c})}},1234:(e,s,a)=>{"use strict";a.d(s,{u:()=>l});var t=a(1215),r=a(411),i=a(5591),d=a(8511),n=a(3195);function l(e){var s,a,l;let{size:c="md"}=e,o=(0,d.C)(e=>e.user),m=null!==(s=null==o?void 0:o.litersSaved)&&void 0!==s?s:0,x=null!==(a=null==o?void 0:o.ownedDecor)&&void 0!==a?a:[],u=null!==(l=null==o?void 0:o.activeDecor)&&void 0!==l?l:[],h=(0,i.useMemo)(()=>[...n.N8].reverse().find(e=>m>=e.minLiters)||n.N8[0],[m]),g=(0,i.useMemo)(()=>u.length?n.Jg.filter(e=>u.includes(e.id)):n.Jg.filter(e=>x.includes(e.id)),[u,x]),p={background:"top-6 left-1/2 -translate-x-1/2 text-3xl opacity-80","surface-left":"top-8 left-6 text-2xl","surface-right":"top-8 right-6 text-2xl","mid-left":"top-1/2 left-5 -translate-y-1/2 text-3xl","mid-right":"top-1/2 right-5 -translate-y-1/2 text-3xl","floor-left":"bottom-6 left-6 text-3xl","floor-right":"bottom-6 right-6 text-3xl"};return(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4 w-full",children:[(0,t.jsxs)("div",{className:(0,r.cn)("relative aspect-[4/3] w-full overflow-hidden rounded-3xl border border-primary/30 bg-gradient-to-b from-sky-100 via-sky-200 to-sky-300 shadow-inner",{sm:"max-w-[160px]",md:"max-w-[220px]",lg:"max-w-[280px]"}[c]),children:[(0,t.jsxs)("div",{className:"absolute inset-0",children:[(0,t.jsx)("div",{className:"absolute inset-x-4 bottom-4 h-1/2 rounded-3xl bg-gradient-to-t from-sky-500 via-sky-400/80 to-transparent"}),(0,t.jsx)("div",{className:"absolute inset-x-0 top-0 h-6 bg-white/40 blur-xl","aria-hidden":!0})]}),g.map(e=>(0,t.jsx)("span",{className:(0,r.cn)("absolute select-none transition-transform duration-500",p[e.slot]||"bottom-4 left-4"),"aria-label":e.name,children:e.icon},e.id)),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("span",{className:(0,r.cn)("animate-float transition-transform duration-500",{sm:"text-4xl",md:"text-6xl",lg:"text-7xl"}[c]),children:h.icon})}),(0,t.jsx)("div",{className:"absolute inset-x-0 bottom-0 h-6 bg-white/30","aria-hidden":!0})]}),(0,t.jsxs)("div",{className:"text-center space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-primary",children:h.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground max-w-[240px] mx-auto",children:h.message})]})]})}},1397:(e,s,a)=>{"use strict";a.d(s,{E:()=>l});var t=a(1215);a(5591);var r=a(5979),i=a(3736),d=a(411);let n=(0,i.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:a,asChild:i=!1,...l}=e,c=i?r.DX:"span";return(0,t.jsx)(c,{"data-slot":"badge",className:(0,d.cn)(n({variant:a}),s),...l})}},2822:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(8475).A)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},5271:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>y});var t=a(1215),r=a(411),i=a(5591),d=a(3061),n=a(8511),l=a(9388),c=a(9414),o=a(2446),m=a(287),x=a(1397),u=a(1234),h=a(3195),g=a(8475);let p=(0,g.A)("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),v=(0,g.A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),f=(0,g.A)("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);var b=a(2822),j=a(5991);let N=(0,g.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function y(){var e;let s=(0,d.useRouter)(),a=(0,n.C)(e=>e.user),g=(0,n.C)(e=>e.getCurrentBadge),y=(0,n.C)(e=>e.logout),k=(0,n.C)(e=>e.purchaseDecor),w=(0,n.C)(e=>e.toggleDecor);if((0,i.useEffect)(()=>{a||s.push("/")},[a,s]),!a)return null;let C=g(),D=h.jp.find(e=>e.minLiters>a.litersSaved),M=D?(a.litersSaved-C.minLiters)/(D.minLiters-C.minLiters)*100:100,E=null!==(e=a.coins)&&void 0!==e?e:0;return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,t.jsx)(l.Y,{}),(0,t.jsxs)("main",{className:"flex-1 container py-8",children:[(0,t.jsxs)("div",{className:"mb-8 animate-in fade-in slide-in-from-bottom duration-500",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Mi Perfil de H\xe9roe \uD83E\uDDB8"}),(0,t.jsx)("p",{className:"text-lg text-muted-foreground",children:"Tu progreso en la conservaci\xf3n del agua"})]}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)(o.Zp,{className:"animate-in fade-in slide-in-from-left duration-500",children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{children:"Informaci\xf3n Personal"})}),(0,t.jsxs)(o.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted",children:[(0,t.jsx)(p,{className:"h-5 w-5 text-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Nombre"}),(0,t.jsx)("p",{className:"font-medium",children:a.name})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted",children:[(0,t.jsx)(v,{className:"h-5 w-5 text-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Correo"}),(0,t.jsx)("p",{className:"font-medium text-sm",children:a.email})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted",children:[(0,t.jsx)(f,{className:"h-5 w-5 text-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Colegio"}),(0,t.jsx)("p",{className:"font-medium text-sm",children:a.school})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted",children:[(0,t.jsx)(b.A,{className:"h-5 w-5 text-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Grado"}),(0,t.jsxs)("p",{className:"font-medium",children:[a.grade," - ","primary"===a.level?"Primaria":"Secundaria"]})]})]})]}),(0,t.jsx)("div",{className:"pt-4 border-t",children:(0,t.jsx)(x.E,{variant:"secondary",className:"text-sm",children:"student"===a.role?"\uD83D\uDC68‍\uD83C\uDF93 Estudiante":"\uD83D\uDC68‍\uD83C\uDFEB Docente"})})]})]}),(0,t.jsxs)(o.Zp,{className:"animate-in fade-in slide-in-from-left duration-500 delay-100",children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Estad\xedsticas de Conservaci\xf3n"}),(0,t.jsx)(o.BT,{children:"Tu impacto en el cuidado del agua"})]}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"text-center p-6 rounded-lg bg-gradient-to-br from-primary/10 to-primary/5",children:[(0,t.jsx)(j.A,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-primary mb-1",children:[a.litersSaved,"L"]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Litros ahorrados"})]}),(0,t.jsxs)("div",{className:"text-center p-6 rounded-lg bg-gradient-to-br from-secondary/10 to-secondary/5",children:[(0,t.jsx)(b.A,{className:"h-8 w-8 mx-auto mb-2 text-secondary"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-secondary mb-1",children:a.completedGames.length}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Juegos completados"})]}),(0,t.jsxs)("div",{className:"text-center p-6 rounded-lg bg-gradient-to-br from-accent/10 to-accent/5",children:[(0,t.jsx)("span",{className:"text-4xl mb-2 block",children:C.icon}),(0,t.jsx)("div",{className:"text-sm font-medium mb-1",children:C.name}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Nivel actual"})]}),(0,t.jsxs)("div",{className:"text-center p-6 rounded-lg bg-gradient-to-br from-amber-100/60 to-yellow-100/40",children:[(0,t.jsx)("span",{className:"text-4xl mb-2 block",children:"\uD83E\uDE99"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-yellow-600 mb-1",children:E}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Monedas"})]})]}),D&&(0,t.jsxs)("div",{className:"p-4 rounded-lg bg-muted",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Progreso al siguiente nivel"}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[a.litersSaved,"/",D.minLiters,"L"]})]}),(0,t.jsx)("div",{className:"h-3 bg-background rounded-full overflow-hidden mb-2",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-primary to-secondary transition-all duration-500",style:{width:"".concat(Math.min(M,100),"%")}})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,t.jsx)("span",{children:D.icon}),(0,t.jsx)("span",{children:D.name})]})]})]})]}),(0,t.jsxs)(o.Zp,{className:"animate-in fade-in slide-in-from-left duration-500 delay-200",children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Colecci\xf3n de Medallas"}),(0,t.jsx)(o.BT,{children:"Desbloquea medallas ahorrando agua"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:h.jp.map(e=>{let s=a.litersSaved>=e.minLiters;return(0,t.jsx)("div",{className:(0,r.cn)("p-4 rounded-lg border-2 transition-all duration-300",s?"bg-gradient-to-br from-primary/5 to-secondary/5 border-primary/30":"bg-muted/50 border-muted opacity-50"),children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-4xl",children:e.icon}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-semibold mb-1",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:e.description}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(x.E,{variant:s?"default":"secondary",className:"text-xs",children:s?"✓ Desbloqueada":"".concat(e.minLiters,"L requeridos")})})]})]})},e.id)})})})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(o.Zp,{className:"animate-in fade-in slide-in-from-right duration-500",children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Tu Compa\xf1ero"}),(0,t.jsx)(o.BT,{children:"Tito el Pez te acompa\xf1a"})]}),(0,t.jsxs)(o.Wu,{className:"flex flex-col gap-6",children:[(0,t.jsx)(u.u,{size:"lg"}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm font-medium",children:[(0,t.jsx)("span",{className:"text-lg",children:"\uD83E\uDE99"}),(0,t.jsxs)("span",{children:[E," monedas disponibles"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold mb-3 text-primary",children:"Tienda de decoraciones"}),(0,t.jsx)("div",{className:"grid gap-3",children:h.Jg.map(e=>{let s=a.ownedDecor.includes(e.id),i=a.activeDecor.includes(e.id),d=E>=e.price;return(0,t.jsxs)("div",{className:(0,r.cn)("flex items-center justify-between gap-3 rounded-lg border p-3",i?"border-primary bg-primary/10":"border-muted bg-muted/50"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:e.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[!s&&(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.price," \uD83E\uDE99"]}),(0,t.jsx)(m.$,{size:"sm",variant:i?"secondary":s?"default":"outline",disabled:!s&&!d,onClick:()=>s?w(e.id):k(e.id),children:s?i?"Quitar":"Equipar":d?"Comprar":"Sin monedas"})]})]},e.id)})})]})]})]}),(0,t.jsxs)(o.Zp,{className:"animate-in fade-in slide-in-from-right duration-500 delay-100",children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{children:"Juegos Completados"})}),(0,t.jsx)(o.Wu,{className:"space-y-3",children:[{id:"trivia",name:"Adivina la Fuga",icon:"\uD83D\uDCA7"},{id:"memory",name:"Memoria H\xeddrica",icon:"\uD83E\uDDE0"},{id:"plant",name:"Riega Solo Cuando Debas",icon:"\uD83C\uDF31"}].map(e=>{let s=a.completedGames.includes(e.id);return(0,t.jsxs)("div",{className:(0,r.cn)("flex items-center gap-3 p-3 rounded-lg",s?"bg-green-50 border border-green-200":"bg-muted"),children:[(0,t.jsx)("span",{className:"text-2xl",children:e.icon}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("p",{className:"text-sm font-medium",children:e.name})}),s&&(0,t.jsx)(x.E,{variant:"default",className:"bg-green-600 text-xs",children:"✓"})]},e.id)})})]}),(0,t.jsxs)(m.$,{onClick:()=>{y(),s.push("/")},variant:"outline",className:"w-full bg-transparent",children:[(0,t.jsx)(N,{className:"h-4 w-4 mr-2"}),"Cerrar sesi\xf3n"]})]})]})]}),(0,t.jsx)(c.w,{})]})}},6597:(e,s,a)=>{Promise.resolve().then(a.bind(a,5271))}},e=>{var s=s=>e(e.s=s);e.O(0,[784,505,62,403,874,358],()=>s(6597)),_N_E=e.O()}]);