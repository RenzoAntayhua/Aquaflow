(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[696],{160:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>f});var t=a(1215),r=a(5591),i=a(3061),n=a(8511),l=a(9388),d=a(9414),c=a(2446),o=a(287),x=a(3195),m=a(6213),h=a(2822);let u=(0,a(8475).A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var p=a(2512),j=a.n(p),g=a(411);function f(){let e=(0,i.useRouter)(),{user:s,updateLitersSaved:a,completeGame:p,addCoins:f}=(0,n.C)(),[v,N]=(0,r.useState)("intro"),[b,y]=(0,r.useState)([]),[k,w]=(0,r.useState)([]),[C,M]=(0,r.useState)(0),[D,F]=(0,r.useState)(0),[z,A]=(0,r.useState)(null);if((0,r.useEffect)(()=>{s||e.push("/")},[s,e]),!s)return null;let E=x.nV.length,H=()=>{let e=[...x.nV,...x.nV].map((e,s)=>({...e,id:s,isFlipped:!1,isMatched:!1}));for(let s=e.length-1;s>0;s--){let a=Math.floor(Math.random()*(s+1));[e[s],e[a]]=[e[a],e[s]]}y(e),w([]),M(0),F(0),A(null)},_=()=>{H(),N("playing")},V=e=>{if(2===k.length||k.includes(e))return;let s=b.find(s=>s.id===e);if(!s||s.isMatched||s.isFlipped)return;let t=[...k,e];if(w(t),y(s=>s.map(s=>s.id===e?{...s,isFlipped:!0}:s)),2===t.length){F(e=>e+1);let[e,s]=t,r=b.find(s=>s.id===e),i=b.find(e=>e.id===s);if(!r||!i)return;r.content===i.content&&r.icon===i.icon&&r.tip===i.tip?setTimeout(()=>{y(a=>a.map(a=>a.id===e||a.id===s?{...a,isMatched:!0}:a)),w([]),A(r.tip),a(15),f(8),M(e=>{let s=e+1;return s===E&&setTimeout(()=>{N("finished"),p("memory")},1200),s})},400):setTimeout(()=>{y(a=>a.map(a=>a.id===e||a.id===s?{...a,isFlipped:!1}:a)),w([]),A(null)},900)}};return"intro"===v?(0,t.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,t.jsx)(l.Y,{}),(0,t.jsx)("main",{className:"flex-1 container py-8 flex items-center justify-center",children:(0,t.jsxs)(c.Zp,{className:"max-w-2xl w-full animate-in soft-animate fade-in zoom-in",children:[(0,t.jsxs)(c.aR,{className:"text-center",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"\uD83E\uDDE0"}),(0,t.jsx)(c.ZB,{className:"text-3xl mb-2",children:"Memoria H\xeddrica"}),(0,t.jsx)(c.BT,{className:"text-base",children:"Encuentra las parejas y aprende tips ecol\xf3gicos"})]}),(0,t.jsxs)(c.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-muted rounded-lg p-6 space-y-3",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"\xbfC\xf3mo jugar?"}),(0,t.jsxs)("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-primary",children:"1."}),(0,t.jsx)("span",{children:"Haz clic en una carta para voltearla"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-primary",children:"2."}),(0,t.jsx)("span",{children:"Busca su pareja haciendo clic en otra carta"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-primary",children:"3."}),(0,t.jsx)("span",{children:"Si coinciden, aprender\xe1s un tip ecol\xf3gico"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-primary",children:"4."}),(0,t.jsx)("span",{children:"Gana 15 litros y 8 monedas por cada pareja encontrada"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-4 text-sm text-muted-foreground",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl mb-1",children:"\uD83C\uDCCF"}),(0,t.jsxs)("div",{children:[2*E," cartas"]})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl mb-1",children:"\uD83C\uDFAF"}),(0,t.jsxs)("div",{children:[E," parejas"]})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl mb-1",children:"\uD83C\uDFC6"}),(0,t.jsxs)("div",{children:[15*E,"L total"]})]})]}),(0,t.jsx)(o.$,{onClick:_,size:"lg",className:"w-full",children:"Comenzar juego"}),(0,t.jsx)(j(),{href:"/games",children:(0,t.jsxs)(o.$,{variant:"ghost",className:"w-full",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Volver a juegos"]})})]})]})}),(0,t.jsx)(d.w,{})]}):"finished"===v?(0,t.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,t.jsx)(l.Y,{}),(0,t.jsx)("main",{className:"flex-1 container py-8 flex items-center justify-center",children:(0,t.jsxs)(c.Zp,{className:"max-w-2xl w-full animate-in soft-animate fade-in zoom-in",children:[(0,t.jsxs)(c.aR,{className:"text-center",children:[(0,t.jsx)("div",{className:"text-8xl mb-4 animate-bounce",children:"\uD83C\uDFC6"}),(0,t.jsx)(c.ZB,{className:"text-3xl mb-2",children:"\xa1Juego Completado!"}),(0,t.jsx)(c.BT,{className:"text-base",children:"Has encontrado todas las parejas"})]}),(0,t.jsxs)(c.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-4 rounded-lg bg-primary/10",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-primary",children:C}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Parejas"})]}),(0,t.jsxs)("div",{className:"text-center p-4 rounded-lg bg-secondary/10",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-secondary",children:D}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Movimientos"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-6 rounded-lg bg-gradient-to-r from-primary/10 to-secondary/10 border border-primary/20",children:[(0,t.jsxs)("div",{className:"text-4xl font-bold text-primary mb-2",children:["+",15*E,"L"]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Litros ganados"})]}),(0,t.jsxs)("div",{className:"text-center p-6 rounded-lg bg-amber-100/60 border border-amber-200",children:[(0,t.jsxs)("div",{className:"text-4xl font-bold text-yellow-600 mb-2",children:["+",8*E,"\uD83E\uDE99"]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Monedas ganadas"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-primary/5 to-secondary/5 rounded-lg p-6 border border-primary/20",children:[(0,t.jsxs)("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(h.A,{className:"h-5 w-5 text-primary"}),"\xa1Excelente memoria!"]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Has aprendido ",E," tips importantes para conservar el agua. Comparte este conocimiento con tu familia y amigos."]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(o.$,{onClick:_,variant:"default",className:"flex-1",children:"Jugar de nuevo"}),(0,t.jsx)(j(),{href:"/games",className:"flex-1",children:(0,t.jsx)(o.$,{variant:"outline",className:"w-full bg-transparent",children:"Otros juegos"})})]})]})]})}),(0,t.jsx)(d.w,{})]}):(0,t.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,t.jsx)(l.Y,{}),(0,t.jsx)("main",{className:"flex-1 container py-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-primary",children:[C,"/",E]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Parejas"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-secondary",children:D}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Movimientos"})]})]}),(0,t.jsxs)(o.$,{onClick:H,variant:"outline",size:"sm",children:[(0,t.jsx)(u,{className:"h-4 w-4 mr-2"}),"Reiniciar"]})]}),z&&(0,t.jsx)(c.Zp,{className:"mb-6 animate-in soft-animate fade-in bg-gradient-to-r from-green-50 to-emerald-50 border-green-200",children:(0,t.jsx)(c.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCA1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-green-700 mb-1",children:"\xa1Pareja encontrada!"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:z})]})]})})}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-4",children:b.map(e=>(0,t.jsx)("button",{onClick:()=>V(e.id),disabled:e.isMatched||e.isFlipped,className:(0,g.cn)("aspect-square rounded-lg transition-all duration-300 transform","hover:scale-105 active:scale-95",e.isMatched&&"opacity-50 cursor-not-allowed",!e.isFlipped&&!e.isMatched&&"bg-gradient-to-br from-primary to-secondary cursor-pointer",(e.isFlipped||e.isMatched)&&"bg-card border-2 border-primary"),children:(0,t.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-center p-2",children:e.isFlipped||e.isMatched?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-4xl mb-2",children:e.icon}),(0,t.jsx)("span",{className:"text-xs text-center font-medium leading-tight",children:e.content})]}):(0,t.jsx)("span",{className:"text-4xl text-white",children:"\uD83D\uDCA7"})})},e.id))})]})}),(0,t.jsx)(d.w,{})]})}},287:(e,s,a)=>{"use strict";a.d(s,{$:()=>d});var t=a(1215);a(5591);var r=a(5979),i=a(3736),n=a(411);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:s,variant:a,size:i,asChild:d=!1,...c}=e,o=d?r.DX:"button";return(0,t.jsx)(o,{"data-slot":"button",className:(0,n.cn)(l({variant:a,size:i,className:s})),...c})}},2822:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(8475).A)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},6213:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(8475).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7557:(e,s,a)=>{Promise.resolve().then(a.bind(a,160))}},e=>{var s=s=>e(e.s=s);e.O(0,[784,505,62,403,874,358],()=>s(7557)),_N_E=e.O()}]);